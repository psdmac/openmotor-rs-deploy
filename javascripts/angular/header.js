myApp.controller("HeaderCtrl",["$scope","$state","Data","Auth","APIs",function(e,a,r,n,t){var c;return c=n.auth(function(r){return"logout"===r?a.go("login"):e.showAvatar()}),e.loginSuccess=function(){return e.showAvatar()},e.showAvatar=function(){var e,c;return $("#avatar").css("background","url(http://graph.facebook.com/"+n.user().id+"/picture?type=normal)"),$("#avatar").css("background-size","cover"),e=t.id(n.user().id),c=e.child("pages"),c.on("value",function(e){return r.pages.length=0,null===e.val()?a.go("config.welcome"):angular.forEach(e.val(),function(e){return r.pages.push(e.id)})}),e.once("value",function(a){return null===a.val()?(e.child("name").set(n.user().name),e.child("accessToken").set(n.user().accessToken),e.child("data").set(n.user().thirdPartyUserData)):e.child("accessToken").set(n.user().accessToken)})}}]);