(function(r,e,t){"use strict";function n(r){return null!=r&&""!==r&&"hasOwnProperty"!==r&&s.test("."+r)}function a(r,e){if(!n(e))throw o("badmember",'Dotted member path "@{0}" is invalid.',e);for(var a=e.split("."),s=0,i=a.length;i>s&&r!==t;s++){var c=a[s];r=null!==r?r[c]:t}return r}var o=e.$$minErr("$resource"),s=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;e.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(r,n){function s(r){return i(r,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function i(r,e){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function c(r,e){this.template=r,this.defaults=e||{},this.urlParams={}}function u(s,i,g){function $(r,e){var t={};return e=m({},i,e),f(e,function(e,n){d(e)&&(e=e()),t[n]=e&&e.charAt&&"@"==e.charAt(0)?a(r,e.substr(1)):e}),t}function v(r){return r.resource}function w(r){h(r||{},this)}var y=new c(s);return g=m({},p,g),f(g,function(a,s){var i=/^(POST|PUT|PATCH)$/i.test(a.method);w[s]=function(s,c,u,p){var g,E,b,A={};switch(arguments.length){case 4:b=p,E=u;case 3:case 2:if(!d(c)){A=s,g=c,E=u;break}if(d(s)){E=s,b=c;break}E=c,b=u;case 1:d(s)?E=s:i?g=s:A=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var P=this instanceof w,T=P?g:a.isArray?[]:new w(g),x={},O=a.interceptor&&a.interceptor.response||v,R=a.interceptor&&a.interceptor.responseError||t;f(a,function(r,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(x[e]=h(r))}),i&&(x.data=g),y.setUrlParams(x,m({},$(g,a.params||{}),A),a.url);var D=r(x).then(function(r){var t=r.data,n=T.$promise;if(t){if(e.isArray(t)!==!!a.isArray)throw o("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",a.isArray?"array":"object",e.isArray(t)?"array":"object");a.isArray?(T.length=0,f(t,function(r){T.push(new w(r))})):(h(t,T),T.$promise=n)}return T.$resolved=!0,r.resource=T,r},function(r){return T.$resolved=!0,(b||l)(r),n.reject(r)});return D=D.then(function(r){var e=O(r);return(E||l)(e,r.headers),e},R),P?D:(T.$promise=D,T.$resolved=!1,T)},w.prototype["$"+s]=function(r,e,t){d(r)&&(t=e,e=r,r={});var n=w[s].call(this,r,this,e,t);return n.$promise||n}}),w.bind=function(r){return u(s,m({},i,r),g)},w}var p={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},l=e.noop,f=e.forEach,m=e.extend,h=e.copy,d=e.isFunction;return c.prototype={setUrlParams:function(r,t,n){var a,i,c=this,u=n||c.template,p=c.urlParams={};f(u.split(/\W/),function(r){if("hasOwnProperty"===r)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(r)&&r&&new RegExp("(^|[^\\\\]):"+r+"(\\W|$)").test(u)&&(p[r]=!0)}),u=u.replace(/\\:/g,":"),t=t||{},f(c.urlParams,function(r,n){a=t.hasOwnProperty(n)?t[n]:c.defaults[n],e.isDefined(a)&&null!==a?(i=s(a),u=u.replace(new RegExp(":"+n+"(\\W|$)","g"),i+"$1")):u=u.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(r,e,t){return"/"==t.charAt(0)?t:e+t})}),u=u.replace(/\/+$/,""),u=u.replace(/\/\.(?=\w+($|\?))/,"."),r.url=u.replace(/\/\\\./,"/."),f(t,function(e,t){c.urlParams[t]||(r.params=r.params||{},r.params[t]=e)})}},u}])})(window,window.angular);