!function(t){"use strict";var e=window.angulartics||(window.angulartics={});e.waitForVendorApi=function(t,n,a){window.hasOwnProperty(t)?a(window[t]):setTimeout(function(){e.waitForVendorApi(t,n,a)},n)},t.module("angulartics",[]).provider("$analytics",function(){var e={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,basePath:"",bufferFlushDelay:1e3},eventTracking:{bufferFlushDelay:1e3}},n={pageviews:[],events:[]},a=function(t){n.pageviews.push(t)},i=function(t,e){n.events.push({name:t,properties:e})},r={settings:e,pageTrack:a,eventTrack:i},c=function(a){r.pageTrack=a,t.forEach(n.pageviews,function(t,n){setTimeout(function(){r.pageTrack(t)},n*e.pageTracking.bufferFlushDelay)})},u=function(a){r.eventTrack=a,t.forEach(n.events,function(t,n){setTimeout(function(){r.eventTrack(t.name,t.properties)},n*e.eventTracking.bufferFlushDelay)})};return{$get:function(){return r},settings:e,virtualPageviews:function(t){this.settings.pageTracking.autoTrackVirtualPages=t},firstPageview:function(t){this.settings.pageTracking.autoTrackFirstPage=t},withBase:function(e){this.settings.pageTracking.basePath=e?t.element("base").attr("href"):""},registerPageTrack:c,registerEventTrack:u}}).run(["$rootScope","$location","$analytics",function(t,e,n){n.settings.pageTracking.autoTrackFirstPage&&n.pageTrack(e.absUrl()),n.settings.pageTracking.autoTrackVirtualPages&&t.$on("$routeChangeSuccess",function(t,a){if(!a||!(a.$$route||a).redirectTo){var i=n.settings.pageTracking.basePath+e.url();n.pageTrack(i)}})}]).directive("analyticsOn",["$analytics",function(e){function n(t){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(t.tagName.toLowerCase()+":"+(t.type||""))>=0}function a(t){return n(t)?"click":"click"}function i(t){return n(t)?t.innerText||t.value:t.id||t.name||t.tagName}function r(t){return"analytics"===t.substr(0,9)&&-1===["on","event"].indexOf(t.substr(10))}return{restrict:"A",scope:!1,link:function(n,c,u){var s=u.analyticsOn||a(c[0]),o=u.analyticsEvent||i(c[0]),g={};t.forEach(u.$attr,function(t,e){r(t)&&(g[e.slice(9).toLowerCase()]=u[e])}),t.element(c[0]).bind(s,function(){e.eventTrack(o,g)})}}}])}(angular);